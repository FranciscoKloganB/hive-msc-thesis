<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <title>app.domain</title>
    

    <link rel="stylesheet" href="_static/css/redactor.css" type="text/css" />
    
    
    <link rel="index" title="Index" href="genindex.html"/>
    <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Hives - P2P Stochastic Swarm Guidance Simulator" href="index.html"/>
    <link rel="up" title="App Documentation" href="app.html"/>
    <link rel="next" title="app.domain.helpers" href="app.domain.helpers.html"/>
    <link rel="prev" title="App Documentation" href="app.html"/> 
</head>

<body role="document">
     

    
<a href="#" id="js-navigation-toggle" class="navigation-toggle">
    <i class="mdi mdi-menu"></i><i class="mdi mdi-close"></i>
</a>

<section class="site-sidebar">

<nav>


    <a href="index.html" class="branding-link">
    
        Hives
    
    
    
        
        
            <span class="branding-link__version">
                1.6
            </span>
        
    
    </a>

    
<section role="search">
    <form action="search.html" method="get" class="site-searchform">
        <input type="text" name="q" placeholder="Search docs" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
</section>



    <section class="site-nav">
    
    
        <p class="caption"><span class="caption-text">Navbar</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstartdocs.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="scriptdocs.html">Scripts and Flags</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="app.html">App Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="app.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">app.domain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-app.domain.cluster_groups">app.domain.cluster_groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-app.domain.master_servers">app.domain.master_servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-app.domain.network_nodes">app.domain.network_nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="app.utils.html">app.utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="app.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#module-app.environment_settings">app.environment_settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#module-app.hive_simulation">app.hive_simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#module-app.mixing_rate_sampler">app.mixing_rate_sampler</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#module-app.simfile_generator">app.simfile_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html#module-app.type_hints">app.type_hints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notedocs.html">Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices</a></li>
</ul>

    
    </section>

</nav>

</section>

    <main class="site-main" role="main">
        











<nav class="site-breadcrumbs">
    <ul>
    
        <li>
            <a href="index.html">Docs</a> /
        </li>
        
        <li>
            <a href="app.html">App Documentation</a> /
        </li>
        
        <li class="site-breadcrumbs__leaf">app.domain</li>
    
    </ul>
</nav>
        <section class="site-content">
            <div class="container">
                
  <div class="section" id="module-app.domain">
<span id="app-domain"></span><h1>app.domain</h1>
<div class="section" id="subpackages">
<h2>Subpackages</h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.domain.helpers.html">app.domain.helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#module-app.domain.helpers.enums">app.domain.helpers.enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#module-app.domain.helpers.exceptions">app.domain.helpers.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#module-app.domain.helpers.matlab_utils">app.domain.helpers.matlab_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#module-app.domain.helpers.matrices">app.domain.helpers.matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.domain.helpers.html#module-app.domain.helpers.smart_dataclasses">app.domain.helpers.smart_dataclasses</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules</h2>
</div>
<div class="section" id="module-app.domain.cluster_groups">
<span id="app-domain-cluster-groups"></span><h2>app.domain.cluster_groups</h2>
<p>This module contains domain specific classes that represent groups of
<a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">storage</span> <span class="pre">nodes</span></code></a>.</p>
<dl class="py class">
<dt id="app.domain.cluster_groups.Cluster">
<em class="property">class </em><code class="sig-name descname">Cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a group of network nodes ensuring the durability of a file.</p>
<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.id">
<code class="sig-name descname">id</code></dt>
<dd><p>A unique identifier of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.current_epoch">
<code class="sig-name descname">current_epoch</code></dt>
<dd><p>The simulation’s current epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.corruption_chances">
<code class="sig-name descname">corruption_chances</code></dt>
<dd><p>A two-element list containing the probability of
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
being corrupted and not being corrupted, respectively. See
<a class="reference internal" href="app.html#app.environment_settings.get_disk_error_chances" title="app.environment_settings.get_disk_error_chances"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_disk_error_chances()</span></code></a>
for corruption chance configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.master">
<code class="sig-name descname">master</code></dt>
<dd><p>A reference to a server that coordinates or monitors the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.members">
<code class="sig-name descname">members</code></dt>
<dd><p>A collection of network nodes that belong to the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.file">
<code class="sig-name descname">file</code></dt>
<dd><p>A reference to
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData" title="app.domain.helpers.smart_dataclasses.FileData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileData</span></code></a>
object that represents the file being persisted by the Cluster
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData" title="app.domain.helpers.smart_dataclasses.FileData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileData</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.critical_size">
<code class="sig-name descname">critical_size</code></dt>
<dd><p>Minimum number of network nodes plus required to exist in the
Cluster to assure the target replication level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.sufficient_size">
<code class="sig-name descname">sufficient_size</code></dt>
<dd><p>Sum of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.critical_size" title="app.domain.cluster_groups.Cluster.critical_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">critical_size</span></code></a>
and the number of nodes expected to fail between two successive
recovery phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.original_size">
<code class="sig-name descname">original_size</code></dt>
<dd><p>The initial and theoretically optimal
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.redundant_size">
<code class="sig-name descname">redundant_size</code></dt>
<dd><p>Application-specific parameter, which indicates that membership
of the Cluster must be pruned.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster.running">
<code class="sig-name descname">running</code></dt>
<dd><p>Indicates if the Cluster instance is active. Used by
<a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a> to manage the
simulation processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster._recovery_epoch_sum">
<code class="sig-name descname">_recovery_epoch_sum</code></dt>
<dd><p>Helper attribute that facilitates the storage of the sum of the
values returned by all
<code class="xref py py-meth docutils literal notranslate"><span class="pre">set_recovery_epoch()</span></code>
method calls. Important for logging purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.Cluster._recovery_epoch_calls">
<code class="sig-name descname">_recovery_epoch_calls</code></dt>
<dd><p>Helper attribute that facilitates the storage of the sum of the
values returned by all
<code class="xref py py-meth docutils literal notranslate"><span class="pre">set_recovery_epoch()</span></code>
method calls throughout the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.current_epoch" title="app.domain.cluster_groups.Cluster.current_epoch"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current_epoch</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates an <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>master</strong> (<a class="reference internal" href="app.html#app.type_hints.MasterType" title="app.type_hints.MasterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterType</span></code></a>) – A reference to an <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a>
object that manages the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> being initialized.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the file the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is responsible for
persisting.</p></li>
<li><p><strong>members</strong> (<a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> and values are their
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">instance</span> <span class="pre">objects</span></code></a>.</p></li>
<li><p><strong>sim_id</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p></li>
<li><p><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the simulation file name that started
the simulation process.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster._get_new_members">
<code class="sig-name descname">_get_new_members</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster._get_new_members"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that searches for possible
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> by querying
the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.master" title="app.domain.cluster_groups.Cluster.master"><code class="xref py py-attr docutils literal notranslate"><span class="pre">master</span></code></a> of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary mapping where keys are
<a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a>
and values are
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">node</span> <span class="pre">instances</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster._log_evaluation">
<code class="sig-name descname">_log_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pcount</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster._log_evaluation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper that collects <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> data and registers it on a
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.LoggingData" title="app.domain.helpers.smart_dataclasses.LoggingData"><code class="xref py py-class docutils literal notranslate"><span class="pre">logger</span></code></a>
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pcount</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of existing parts in the system at the
simulation’s current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster._set_fail">
<code class="sig-name descname">_set_fail</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster._set_fail"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Ends the Cluster instance simulation.</p>
<p>Sets <a class="reference internal" href="#app.domain.cluster_groups.Cluster.running" title="app.domain.cluster_groups.Cluster.running"><code class="xref py py-attr docutils literal notranslate"><span class="pre">running</span></code></a> to <code class="docutils literal notranslate"><span class="pre">False</span></code> and orders
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData" title="app.domain.helpers.smart_dataclasses.FileData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileData</span></code></a> to write
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.LoggingData" title="app.domain.helpers.smart_dataclasses.LoggingData"><code class="xref py py-class docutils literal notranslate"><span class="pre">collected</span> <span class="pre">logs</span></code></a>
to disk and close it’s
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.out_file" title="app.domain.helpers.smart_dataclasses.FileData.out_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out_file</span></code></a>
stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A short explanation of why the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> terminated early.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster._setup_epoch">
<code class="sig-name descname">_setup_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epoch</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster._setup_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initializes some attributes of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> during
its initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The simulation’s current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.complain">
<code class="sig-name descname">complain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">complainter</span></em>, <em class="sig-param"><span class="n">complainee</span></em>, <em class="sig-param"><span class="n">reason</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.complain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Registers a complaint against a possibly offline node.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method provides no default functionality and should be
overridden in sub classes if required.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>complainter</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier of the complaining <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>.</p></li>
<li><p><strong>complainee</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier of the <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> being complained about.</p></li>
<li><p><strong>reason</strong> (<a class="reference internal" href="app.html#app.type_hints.HttpResponse" title="app.type_hints.HttpResponse"><code class="xref py py-data docutils literal notranslate"><span class="pre">app.type_hints.HttpResponse</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">http</span> <span class="pre">code</span></code></a>
that led to the complaint.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.evaluate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluates and logs the health, possibly other parameters, of the
<code class="docutils literal notranslate"><span class="pre">Cluster</span></code> at every epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epoch</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Orders all <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> to execute their epoch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> terminates early, before it reaches
<a class="reference internal" href="#app.domain.master_servers.Master.MAX_EPOCHS" title="app.domain.master_servers.Master.MAX_EPOCHS"><code class="xref py py-const docutils literal notranslate"><span class="pre">MAX_EPOCHS</span></code></a>,
nothing should be logged in
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.LoggingData" title="app.domain.helpers.smart_dataclasses.LoggingData"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoggingData</span></code></a>
at the specified <code class="docutils literal notranslate"><span class="pre">epoch</span></code> to avoid skewing previously
collected results.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The epoch the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> should currently be in, according
to it’s managing <a class="reference internal" href="#app.domain.cluster_groups.Cluster.master" title="app.domain.cluster_groups.Cluster.master"><code class="xref py py-attr docutils literal notranslate"><span class="pre">master</span></code></a> entity.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">False</span></code> if <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> failed to persist the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.file" title="app.domain.cluster_groups.Cluster.file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span></code></a> it was
responsible for, otherwise <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.get_cluster_status">
<code class="sig-name descname">get_cluster_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.get_cluster_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Determines the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>’s status based on the length of the
current <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The status of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> as a string.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.get_random_member_node">
<code class="sig-name descname">get_random_member_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.get_random_member_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrives a random node from the members of the cluster group,
whose status is likely to be online.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A random network node from <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.maintain">
<code class="sig-name descname">maintain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">off_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.maintain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evicts disconnected <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> from the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and
attempts to recruit new ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>off_nodes</strong> (List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]) – The subset of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who disconnected
during the current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.membership_maintenance">
<code class="sig-name descname">membership_maintenance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.membership_maintenance"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to recruits new
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> as members
of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary that is empty if membership did not change.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.nodes_execute">
<code class="sig-name descname">nodes_execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.nodes_execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Queries all <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> to execute the epoch.</p>
<p>This method logs the amount of lost replicas throughout
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.current_epoch" title="app.domain.cluster_groups.Cluster.current_epoch"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current_epoch</span></code></a> according to the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who went
offline and the
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
replicas they posssed and is responsible for
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.set_replication_epoch" title="app.domain.cluster_groups.Cluster.set_replication_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setting</span> <span class="pre">a</span> <span class="pre">replication</span> <span class="pre">epoch</span></code></a>.
Similarly it logs the number of members who disconnected.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> that disconnected during the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.current_epoch" title="app.domain.cluster_groups.Cluster.current_epoch"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current_epoch</span></code></a>. See
<a class="reference internal" href="#app.domain.network_nodes.Node.get_status" title="app.domain.network_nodes.Node.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.get_status()</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.route_part">
<code class="sig-name descname">route_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sender</span></em>, <em class="sig-param"><span class="n">receiver</span></em>, <em class="sig-param"><span class="n">replica</span></em>, <em class="sig-param"><span class="n">is_fresh</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.route_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sends a <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a> to some other
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> in
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An identifier of the
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>
who is sending the message.</p></li>
<li><p><strong>receiver</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The destination
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>
identifier.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
to be sent specified destination: <code class="docutils literal notranslate"><span class="pre">receiver</span></code>.</p></li>
<li><p><strong>is_fresh</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Prevents recently created replicas from being
corrupted, since they are not likely to be corrupted in disk.
This argument facilitates simulation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An http code sent by the <code class="docutils literal notranslate"><span class="pre">receiver</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpCodes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.set_replication_epoch">
<code class="sig-name descname">set_replication_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.set_replication_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delegates to <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData.set_replication_epoch" title="app.domain.helpers.smart_dataclasses.FileBlockData.set_replication_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_replication_epoch()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><em>domain.helpers.smart_dataclasses.FileBlockData</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a> that
was lost.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.Cluster.spread_files">
<code class="sig-name descname">spread_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replicas</span></em>, <em class="sig-param"><span class="n">strat</span><span class="o">=</span><span class="default_value">'i'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#Cluster.spread_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Distributes a collection of <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a> among the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> of the cluster group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replicas</strong> (<a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
replicas, without replication.</p></li>
<li><p><strong>strat</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Defines how <code class="docutils literal notranslate"><span class="pre">replicas</span></code> will be initially distributed in
the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>. Unless overridden in children of this class the
received value of <code class="docutils literal notranslate"><span class="pre">strat</span></code> will be ignored and will always
be set to the default value <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<dl class="simple">
<dt>i</dt><dd><p>This strategy creates a probability vector
containing the normalization of <a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span>
<span class="pre">uptimes'</span></code></a> and uses
that vector to randomly select which
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">node</span></code></a> will
receive each replica. There is a bias to give more
replicas to the most resillent <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">nodes</span></code></a> which results from
using the created probability vector.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.cluster_groups.HDFSCluster">
<em class="property">class </em><code class="sig-name descname">HDFSCluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster</span></code></a></p>
<p>Represents a group of network nodes ensuring the durability of a file
in a Hadoop Distributed File System scenario.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Members of <code class="docutils literal notranslate"><span class="pre">HDFSCluster</span></code> are of type
<a class="reference internal" href="#app.domain.network_nodes.HDFSNode" title="app.domain.network_nodes.HDFSNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">HDFSNode</span></code></a>, they do not
perform swarm guidance behaviors and instead report with regular
heartbeats to their <a class="reference internal" href="#app.domain.cluster_groups.HDFSCluster" title="app.domain.cluster_groups.HDFSCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">monitors</span></code></a>. This class could be a
<em>NameNode Server</em> in HDFS or a <em>master server</em> in GFS.</p>
</div>
<dl class="py attribute">
<dt id="app.domain.cluster_groups.HDFSCluster.suspicious_nodes">
<code class="sig-name descname">suspicious_nodes</code></dt>
<dd><p>A set containing the identifiers of suspicious
<a class="reference internal" href="#app.domain.network_nodes.HDFSNode" title="app.domain.network_nodes.HDFSNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#set" title="(in Python v3.7)">set</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.HDFSCluster.data_node_heartbeats">
<code class="sig-name descname">data_node_heartbeats</code></dt>
<dd><p>A dictionary mapping <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> to the number of
complaints made against them. Each node has five lives. When they
miss five beats in a row, i.e., when the dictionary value count
is zero, they are evicted from the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HDFSCluster.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates an <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>master</strong> (<a class="reference internal" href="app.html#app.type_hints.MasterType" title="app.type_hints.MasterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterType</span></code></a>) – A reference to an <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a>
object that manages the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> being initialized.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the file the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is responsible for
persisting.</p></li>
<li><p><strong>members</strong> (<a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> and values are their
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">instance</span> <span class="pre">objects</span></code></a>.</p></li>
<li><p><strong>sim_id</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p></li>
<li><p><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the simulation file name that started
the simulation process.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HDFSCluster.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster.evaluate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Logs the number of existing replicas in the <code class="docutils literal notranslate"><span class="pre">HDFSCluster</span></code>.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.evaluate" title="app.domain.cluster_groups.Cluster.evaluate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.evaluate()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HDFSCluster.maintain">
<code class="sig-name descname">maintain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">off_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster.maintain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evicts any <a class="reference internal" href="#app.domain.network_nodes.HDFSNode" title="app.domain.network_nodes.HDFSNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>
whose heartbeats in <a class="reference internal" href="#app.domain.cluster_groups.HDFSCluster.data_node_heartbeats" title="app.domain.cluster_groups.HDFSCluster.data_node_heartbeats"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data_node_heartbeats</span></code></a> reached zero.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.execute_epoch" title="app.domain.cluster_groups.Cluster.execute_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.execute_epoch()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>off_nodes</strong> (List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]) – The subset of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who disconnected
during the current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HDFSCluster.membership_maintenance">
<code class="sig-name descname">membership_maintenance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster.membership_maintenance"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to recruits new
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> as members
of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary that is empty if membership did not change.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HDFSCluster.nodes_execute">
<code class="sig-name descname">nodes_execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HDFSCluster.nodes_execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Queries all <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> to execute the epoch.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.nodes_execute" title="app.domain.cluster_groups.Cluster.nodes_execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.nodes_execute()</span></code></a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A collection of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who disconnected
during the current epoch. See
<a class="reference internal" href="#app.domain.network_nodes.HDFSNode.get_status" title="app.domain.network_nodes.HDFSNode.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.HDFSNode.get_status()</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.cluster_groups.HiveCluster">
<em class="property">class </em><code class="sig-name descname">HiveCluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster</span></code></a></p>
<p>Represents a group of network nodes persisting a file using swarm
guidance algorithm.</p>
<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveCluster.v_">
<code class="sig-name descname">v_</code></dt>
<dd><p>Density distribution cluster members must achieve with independent
realizations for ideal persistence of the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveCluster.cv_">
<code class="sig-name descname">cv_</code></dt>
<dd><p>Tracks the file current density distribution, updated at each epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates an <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>master</strong> (<a class="reference internal" href="app.html#app.type_hints.MasterType" title="app.type_hints.MasterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterType</span></code></a>) – A reference to an <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a>
object that manages the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> being initialized.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the file the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is responsible for
persisting.</p></li>
<li><p><strong>members</strong> (<a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> and values are their
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">instance</span> <span class="pre">objects</span></code></a>.</p></li>
<li><p><strong>sim_id</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p></li>
<li><p><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the simulation file name that started
the simulation process.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster._log_evaluation">
<code class="sig-name descname">_log_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pcount</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster._log_evaluation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper that collects <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> data and registers it on a
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.LoggingData" title="app.domain.helpers.smart_dataclasses.LoggingData"><code class="xref py py-class docutils literal notranslate"><span class="pre">logger</span></code></a>
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pcount</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of existing parts in the system at the
simulation’s current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster._pretty_print_eq_distr_table">
<code class="sig-name descname">_pretty_print_eq_distr_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">atol</span></em>, <em class="sig-param"><span class="n">rtol</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster._pretty_print_eq_distr_table"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Pretty prints a PSQL formatted table for visual vector comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>) – The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> object to be formatted
as PSQL table.</p></li>
<li><p><strong>atol</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The allowed absolute tolerance.</p></li>
<li><p><strong>rtol</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The allowed relative tolerance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster._validate_transition_matrix">
<code class="sig-name descname">_validate_transition_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">v_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster._validate_transition_matrix"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Asserts if <code class="docutils literal notranslate"><span class="pre">m</span></code> is a Markov Matrix.</p>
<p>Verification is done by raising the <code class="docutils literal notranslate"><span class="pre">m</span></code> to the power
of <code class="docutils literal notranslate"><span class="pre">4096</span></code> (just a large number) and checking if all columns of the
powered matrix are element-wise equal to the
entries of <code class="docutils literal notranslate"><span class="pre">target_distribution</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>) – The matrix to be verified.</p></li>
<li><p><strong>v_</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>) – The steady state the <code class="docutils literal notranslate"><span class="pre">m</span></code> is expected to have.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the matrix converges to the <code class="docutils literal notranslate"><span class="pre">target_distribution</span></code>,
otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. I.e., if <code class="docutils literal notranslate"><span class="pre">m</span></code> is a
markov matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.add_cloud_reference">
<code class="sig-name descname">add_cloud_reference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.add_cloud_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Adds a cloud server to the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> of
the <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>.</p>
<p>This method is used when <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code> membership size becomes
compromised and a backup solution using cloud approaches is desired.
The idea is that surviving members upload their replicas to the cloud
server, e.g., an Amazon S3 instance. See Master method
<a class="reference internal" href="#app.domain.master_servers.HiveMaster.get_cloud_reference" title="app.domain.master_servers.HiveMaster.get_cloud_reference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cloud_reference()</span></code></a>
for more details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is virtual.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.broadcast_transition_matrix">
<code class="sig-name descname">broadcast_transition_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.broadcast_transition_matrix"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Slices a  matrix and delivers columns to the respective
<a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>m</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>) – A matrix to be broadcasted to the network nodes
belonging who are currently members of the Cluster instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An optimization could be made that configures a transition matrix
for the cluster, independent of of file names, i.e., turn cluster
groups into groups persisting multiple files instead of only one,
thus reducing simulation spaceoverheads and in real-life
scenarios, decreasing the load done to metadata servers, through
queries and matrix calculations. For simplicity of implementation
each cluster only manages one file.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.create_and_bcast_new_transition_matrix">
<code class="sig-name descname">create_and_bcast_new_transition_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.create_and_bcast_new_transition_matrix"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that attempts to generate a markov matrix to be
sliced and distributed to the <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a>.</p>
<p>At most three transition matrices will be generated. The first to be
successfully <a class="reference internal" href="#app.domain.cluster_groups.HiveCluster._validate_transition_matrix" title="app.domain.cluster_groups.HiveCluster._validate_transition_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">validated</span></code></a> is
distributed to the <a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>. If all matrices are invalid,
the last matrix will be used to prevent infinite loops in the
simulation. This is not an issue as eventually the membership of the
<code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code> will change, thus, more opportunities to perform a
correct swarm guidance behavior will be possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.equal_distributions">
<code class="sig-name descname">equal_distributions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.equal_distributions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Asserts if the <a class="reference internal" href="#app.domain.cluster_groups.HiveCluster.v_" title="app.domain.cluster_groups.HiveCluster.v_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">desired</span> <span class="pre">distribution</span></code></a> and
<a class="reference internal" href="#app.domain.cluster_groups.HiveCluster.cv_" title="app.domain.cluster_groups.HiveCluster.cv_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">current</span> <span class="pre">distribution</span></code></a> are equal.</p>
<p>Equalility is calculated using numpy allclose function which has the
following formula:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>absolute(`a` - `b`) &lt;= (`atol` + `rtol` * absolute(`b`))
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if distributions are close enough to be considered equal,
otherwise, it returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.evaluate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluates and logs the health, possibly other parameters, of the
<code class="docutils literal notranslate"><span class="pre">Cluster</span></code> at every epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.maintain">
<code class="sig-name descname">maintain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">off_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.maintain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evicts disconnected <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> from the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and
attempts to recruit new ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>off_nodes</strong> (List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]) – The subset of <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> who disconnected
during the current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.membership_maintenance">
<code class="sig-name descname">membership_maintenance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.membership_maintenance"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to recruits new
<a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> as members
of the <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>.</p>
<dl>
<dt>Extends:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.membership_maintenance" title="app.domain.cluster_groups.Cluster.membership_maintenance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.membership_maintenance()</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">HiveCluster.membership_maintenance</span></code> adds and removes cloud
references depending depending on the length of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a>
before maintenance is performed.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary that is empty if membership did not change.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.new_desired_distribution">
<code class="sig-name descname">new_desired_distribution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">member_ids</span></em>, <em class="sig-param"><span class="n">member_uptimes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.new_desired_distribution"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sets a new <a class="reference internal" href="#app.domain.cluster_groups.HiveCluster.v_" title="app.domain.cluster_groups.HiveCluster.v_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">desired</span> <span class="pre">distribution</span></code></a> for the
<code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>.</p>
<p>Received <code class="docutils literal notranslate"><span class="pre">member_uptimes</span></code> are normalized to create a stochastic
representation of the desired distribution, which can be used by the
different transition matrix generation strategies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>member_ids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – A list of <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> who are
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> of the <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>.</p></li>
<li><p><strong>member_uptimes</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>]</em>) – A list of <a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">member_ids</span></code> and <code class="docutils literal notranslate"><span class="pre">member_uptimes</span></code> elements at each index should
belong to each other, i.e., they should originate from from the
same <a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of floats with normalized uptimes which represent the
“reliability” of network nodes.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>member_ids</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – </p></li>
<li><p><strong>member_uptimes</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.new_transition_matrix">
<code class="sig-name descname">new_transition_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.new_transition_matrix"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates a new transition matrix that is likely to be a Markov Matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The labeled matrix that has the fastests mixing rate from all
the pondered strategies.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.nodes_execute">
<code class="sig-name descname">nodes_execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.nodes_execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Queries all network node members execute the epoch.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.nodes_execute" title="app.domain.cluster_groups.Cluster.nodes_execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.nodes_execute()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A collection of members who disconnected during the current
epoch. See
<a class="reference internal" href="#app.domain.network_nodes.Node.get_status" title="app.domain.network_nodes.Node.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.get_status()</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.remove_cloud_reference">
<code class="sig-name descname">remove_cloud_reference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.remove_cloud_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove cloud references and delete files within it</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is virtual.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.select_fastest_topology">
<code class="sig-name descname">select_fastest_topology</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">v_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.select_fastest_topology"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Creates multiple transition matrices and selects the fastest.</p>
<p>The fastest of the created transition matrices corresponds to the one
with a faster mixing rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – An adjacency matrix that represents the network topology.</p></li>
<li><p><strong>v_</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – A desired distribution vector that defines the returned
matrix steady state property.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A transition matrix that is likely to be a markov matrix whose
steady state is <code class="docutils literal notranslate"><span class="pre">v_</span></code>, but is not yet validated. See
<a class="reference internal" href="#app.domain.cluster_groups.HiveCluster._validate_transition_matrix" title="app.domain.cluster_groups.HiveCluster._validate_transition_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_validate_transition_matrix()</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveCluster.spread_files">
<code class="sig-name descname">spread_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replicas</span></em>, <em class="sig-param"><span class="n">strat</span><span class="o">=</span><span class="default_value">'i'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveCluster.spread_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Distributes a collection of
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
objects among the <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> of the <code class="docutils literal notranslate"><span class="pre">HiveCluster</span></code>.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.spread_files" title="app.domain.cluster_groups.Cluster.spread_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.spread_files()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replicas</strong> (<a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
replicas, without replication.</p></li>
<li><p><strong>strat</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Defines how <code class="docutils literal notranslate"><span class="pre">replicas</span></code> will be initially distributed in
the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<dl class="simple">
<dt>u</dt><dd><p>Each <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a> in
<code class="docutils literal notranslate"><span class="pre">replicas</span></code> is distributed following a
uniform probability vector among <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> of
the cluster group.</p>
</dd>
<dt>a</dt><dd><p>Each <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
in <code class="docutils literal notranslate"><span class="pre">replicas</span></code> is given up to <code class="docutils literal notranslate"><span class="pre">N</span></code> different
<code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> where <code class="docutils literal notranslate"><span class="pre">N</span></code> is equal to
<a class="reference internal" href="app.html#app.environment_settings.REPLICATION_LEVEL" title="app.environment_settings.REPLICATION_LEVEL"><code class="xref py py-const docutils literal notranslate"><span class="pre">REPLICATION_LEVEL</span></code></a>.</p>
</dd>
<dt>i</dt><dd><p>Each <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
in <code class="docutils literal notranslate"><span class="pre">replicas</span></code> with bias towards the
ideal steady state distribution. This implementation of
differs from
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.spread_files" title="app.domain.cluster_groups.Cluster.spread_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.spread_files()</span></code></a>,
because it is not necessarely based on
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">node</span></code></a> uptime.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.cluster_groups.HiveClusterExt">
<em class="property">class </em><code class="sig-name descname">HiveClusterExt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.cluster_groups.HiveCluster" title="app.domain.cluster_groups.HiveCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.cluster_groups.HiveCluster</span></code></a></p>
<p>Represents a group of network nodes persisting a file.</p>
<p><code class="docutils literal notranslate"><span class="pre">HiveClusterExt</span></code> instances differ from
<a class="reference internal" href="#app.domain.cluster_groups.HiveCluster" title="app.domain.cluster_groups.HiveCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiveCluster</span></code></a> because their members are
of type <a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiveNodeExt</span></code></a>. When combined
these classes give nodes the responsibility of collaborating in the
detection of faulty members of the <code class="docutils literal notranslate"><span class="pre">HiveClusterExt</span></code> and eventually
kicking them out of the group.</p>
<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveClusterExt.complaint_threshold">
<code class="sig-name descname">complaint_threshold</code></dt>
<dd><p>Reference value that defines the maximum number of complaints a
<a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>
can receive before it is evicted from the <code class="docutils literal notranslate"><span class="pre">HiveClusterExt</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveClusterExt.nodes_complaints">
<code class="sig-name descname">nodes_complaints</code></dt>
<dd><p>A dictionary mapping <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span> <span class="pre">identifiers'</span></code></a> to the number of complaints
made against them by other <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a>. When
complaints becomes bigger than py:py:attr:<cite>complaint_threshold</cite>
the complaintee is evicted from the group.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveClusterExt.suspicious_nodes">
<code class="sig-name descname">suspicious_nodes</code></dt>
<dd><p>A dictionary containing the unique <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> of known suspicious
members and how many epochs have passed since they changed to such
status.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.cluster_groups.HiveClusterExt._epoch_complaints">
<code class="sig-name descname">_epoch_complaints</code></dt>
<dd><p>A set of unique identifiers formed from the concatenation of
<a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a>,
to avoid multiple complaint registrations on the same epoch,
done by the same source towards the same target. The set is
reset every epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#set" title="(in Python v3.7)">set</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveClusterExt.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates an <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>master</strong> (<a class="reference internal" href="app.html#app.type_hints.MasterType" title="app.type_hints.MasterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterType</span></code></a>) – A reference to an <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">Master</span></code></a>
object that manages the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> being initialized.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the file the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is responsible for
persisting.</p></li>
<li><p><strong>members</strong> (<a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> and values are their
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">instance</span> <span class="pre">objects</span></code></a>.</p></li>
<li><p><strong>sim_id</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p></li>
<li><p><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the simulation file name that started
the simulation process.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveClusterExt.complain">
<code class="sig-name descname">complain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">complainter</span></em>, <em class="sig-param"><span class="n">complainee</span></em>, <em class="sig-param"><span class="n">reason</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt.complain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Registers a complaint against a possibly offline node.</p>
<p>A unique identifier for the complaint is generated by concatenation
of the complainter and the complainee unique identifiers.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.complain" title="app.domain.cluster_groups.Cluster.complain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.complain()</span></code></a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>complainter</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier of the complaining
<a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiveNodeExt</span></code></a>.</p></li>
<li><p><strong>complainee</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier of the
<a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiveNodeExt</span></code></a>
being complained about.</p></li>
<li><p><strong>reason</strong> (<a class="reference internal" href="app.html#app.type_hints.HttpResponse" title="app.type_hints.HttpResponse"><code class="xref py py-data docutils literal notranslate"><span class="pre">app.type_hints.HttpResponse</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">http</span> <span class="pre">code</span></code></a>
that led to the complaint.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveClusterExt.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epoch</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Orders all <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> to execute their epoch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> terminates early, before it reaches
<a class="reference internal" href="#app.domain.master_servers.Master.MAX_EPOCHS" title="app.domain.master_servers.Master.MAX_EPOCHS"><code class="xref py py-const docutils literal notranslate"><span class="pre">MAX_EPOCHS</span></code></a>,
nothing should be logged in
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.LoggingData" title="app.domain.helpers.smart_dataclasses.LoggingData"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoggingData</span></code></a>
at the specified <code class="docutils literal notranslate"><span class="pre">epoch</span></code> to avoid skewing previously
collected results.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The epoch the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> should currently be in, according
to it’s managing <code class="xref py py-attr docutils literal notranslate"><span class="pre">master</span></code> entity.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">False</span></code> if <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> failed to persist the <code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span></code> it was
responsible for, otherwise <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveClusterExt.maintain">
<code class="sig-name descname">maintain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">off_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt.maintain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evicts any <a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> who has
been complained about more than <a class="reference internal" href="#app.domain.cluster_groups.HiveClusterExt.complaint_threshold" title="app.domain.cluster_groups.HiveClusterExt.complaint_threshold"><code class="xref py py-attr docutils literal notranslate"><span class="pre">complaint_threshold</span></code></a> times.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.maintain" title="app.domain.cluster_groups.Cluster.maintain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.maintain()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>off_nodes</strong> (List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]) – The subset of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who disconnected
during the current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.HiveClusterExt.nodes_execute">
<code class="sig-name descname">nodes_execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#HiveClusterExt.nodes_execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Queries all network node members execute the epoch.</p>
<dl>
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.HiveCluster.nodes_execute" title="app.domain.cluster_groups.HiveCluster.nodes_execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.HiveCluster.nodes_execute()</span></code></a>.</p>
<p>Offline <a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
are considered suspects until enough complaints
from other <code class="docutils literal notranslate"><span class="pre">HiveNodeExt</span></code> <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> are received.
This is important because lost parts can not be logged multiple
times. Yet suspected <a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt" title="app.domain.network_nodes.HiveNodeExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> need to be contabilized
as offline for simulation purposes without being evicted from the
group until they are detected by their peers as being offline.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A collection of <a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> who disconnected
during the current epoch.
See <a class="reference internal" href="#app.domain.network_nodes.HiveNodeExt.get_status" title="app.domain.network_nodes.HiveNodeExt.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.HiveNodeExt.get_status()</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.cluster_groups.NewscastCluster">
<em class="property">class </em><code class="sig-name descname">NewscastCluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">members</span></em>, <em class="sig-param"><span class="n">sim_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">origin</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#NewscastCluster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster</span></code></a></p>
<dl class="py method">
<dt id="app.domain.cluster_groups.NewscastCluster.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#NewscastCluster.evaluate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluates and logs the health, possibly other parameters, of the
<code class="docutils literal notranslate"><span class="pre">Cluster</span></code> at every epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.NewscastCluster.maintain">
<code class="sig-name descname">maintain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">off_nodes</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#NewscastCluster.maintain"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evicts disconnected <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> from the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and
attempts to recruit new ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>off_nodes</strong> (List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]) – The subset of <code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> who disconnected
during the current epoch.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.NewscastCluster.nodes_execute">
<code class="sig-name descname">nodes_execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#NewscastCluster.nodes_execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Queries all network node members execute the epoch.</p>
<p>This method shuffles the order in which the <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> are visited every epoch.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.cluster_groups.Cluster.nodes_execute" title="app.domain.cluster_groups.Cluster.nodes_execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.nodes_execute()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A collection of members who disconnected during the current
epoch. See
<code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.NewscastNode.get_status()</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.cluster_groups.NewscastCluster.spread_files">
<code class="sig-name descname">spread_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replicas</span></em>, <em class="sig-param"><span class="n">strat</span><span class="o">=</span><span class="default_value">'o'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/cluster_groups.html#NewscastCluster.spread_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Distributes a collection of <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a> among the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code> of the cluster group.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.dommain.cluster_groups.Cluster.spread_files()</span></code></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replicas</strong> (<a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>
replicas, without replication.</p></li>
<li><p><strong>strat</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Defines how <code class="docutils literal notranslate"><span class="pre">replicas</span></code> will be initially distributed in
the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>. Unless overridden in children of this class the
received value of <code class="docutils literal notranslate"><span class="pre">strat</span></code> will be ignored and will always
be set to the default value <code class="docutils literal notranslate"><span class="pre">o</span></code>.</p>
<dl class="simple">
<dt>o</dt><dd><p>This strategy assumes erasure-coding is being used and
that each <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> will have no more than
one encoded block, i.e., replication level is always
equal to one. Note however, that if there are more encoded
blocks than there are <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>, some of these <code class="docutils literal notranslate"><span class="pre">nodes</span></code>
might end up possessing an excessive amount of blocks.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-app.domain.master_servers">
<span id="app-domain-master-servers"></span><h2>app.domain.master_servers</h2>
<p>This module contains domain specific classes that coordinate all
<a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.cluster_groups</span></code></a> of a simulation instance. These could
simulate centralized authentication servers, file localization or
file metadata servers or a bank of currently online and offline
<a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">storage</span> <span class="pre">nodes</span></code></a>.</p>
<dl class="py class">
<dt id="app.domain.master_servers.HDFSMaster">
<em class="property">class </em><code class="sig-name descname">HDFSMaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simfile_name</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">epochs</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#HDFSMaster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.master_servers.Master</span></code></a></p>
<dl class="py method">
<dt id="app.domain.master_servers.HDFSMaster._process_simfile">
<code class="sig-name descname">_process_simfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#HDFSMaster._process_simfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Opens and processes the simulation filed referenced in <cite>path</cite>.</p>
<dl>
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.master_servers.Master._process_simfile" title="app.domain.master_servers.Master._process_simfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.master_servers.Master._process_simfile()</span></code></a>.</p>
<p>The method is exactly the same except for one instruction. The
<a class="reference internal" href="#app.domain.master_servers.Master._split_files" title="app.domain.master_servers.Master._split_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_split_files()</span></code></a> is
invoked with fixed <cite>bsize</cite> = 1MB. The reason for this is
two-fold:</p>
<blockquote>
<div><ul class="simple">
<li><p>The default and, thus recommended, block size for the                 hadoop distributed file system is 128MB. The system is not                 designed to perform well with small file blocks, but Hives                 requires many file blocks for stochastic swarm guidance to                 work, hence being more effective with small block sizes. By                 default Hives runs with 128KB blocks.</p></li>
<li><p>Hadoop limits the minimum block size to be 1MB,                 <a class="reference external" href="https://hadoop.apache.org/docs/r2.6.0/hadoop-project-dist/hadoop-hdfs/hdfs-default.xml#dfs.namenode.fs-limits.min-block-size">dfs.namenode.fs-limits.min-block-size</a>.                 For this reason, we make HDFSMaster split files into 1MB                 chunks, as that is the closest we would get to our Hive’s                 default block size in the real world.</p></li>
</ul>
</div></blockquote>
<p>The other difference is that the spread strategy is ignored.
We are not interested in knowing if the way the files are
initially spread affects the time it takes for clusters to
achieve a steady-state distribution since in HDFS
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a> are
stationary on data nodes until they die.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The path to the simulation file. Including extension and
parent folders.</p></li>
<li><p><strong>cluster_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate cluster group
instances through reflection.
See <a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.cluster_groups</span></code></a>.</p></li>
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate network node
instances through reflection.
See <a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.network_nodes</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.master_servers.HiveMaster">
<em class="property">class </em><code class="sig-name descname">HiveMaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simfile_name</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">epochs</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#HiveMaster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.master_servers.Master</span></code></a></p>
<dl class="py method">
<dt id="app.domain.master_servers.HiveMaster.get_cloud_reference">
<code class="sig-name descname">get_cloud_reference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#HiveMaster.get_cloud_reference"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Use to obtain a reference to 3rd party cloud storage provider</p>
<p>The cloud storage provider can be used to temporarely host files
belonging to <code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">clusters</span></code> in bad
conditions that may compromise the file durability of the files they
are responsible for persisting.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is virtual.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A pointer to the cloud server, e.g., an IP Address.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.master_servers.Master">
<em class="property">class </em><code class="sig-name descname">Master</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simfile_name</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">epochs</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Simulation manager class, some kind of puppet-master. Could represent
an authentication server or a monitor that decides along with other
<code class="docutils literal notranslate"><span class="pre">Master</span></code> entities what <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> are online using consensus algorithms.</p>
<dl class="py attribute">
<dt id="app.domain.master_servers.Master.origin">
<code class="sig-name descname">origin</code></dt>
<dd><p>The name of the simulation file name that started the simulation
process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.sid">
<code class="sig-name descname">sid</code></dt>
<dd><p>Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.epoch">
<code class="sig-name descname">epoch</code></dt>
<dd><p>The simulation’s current epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.cluster_groups">
<code class="sig-name descname">cluster_groups</code></dt>
<dd><p>A collection of <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span></code></a> managed by the <code class="docutils literal notranslate"><span class="pre">Master</span></code>.
Keys are <a class="reference internal" href="#app.domain.cluster_groups.Cluster.id" title="app.domain.cluster_groups.Cluster.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">identifiers</span></code></a> and values are the
cluster instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.ClusterDict" title="app.type_hints.ClusterDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.type_hints.ClusterDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.network_nodes">
<code class="sig-name descname">network_nodes</code></dt>
<dd><p>A dictionary mapping <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">node</span> <span class="pre">identifiers</span></code></a> to their instance objects.
This collection differs from
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">app.domain.cluster_groups.Cluster.members</span></code></a> attribute
in the sense that the former <code class="docutils literal notranslate"><span class="pre">network_nodes</span></code> includes all
nodes, both online and offline, available on the entire
distributed backup storage system regardless of their
participation in any <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">group</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.type_hints.NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simfile_name</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">epochs</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates an Master object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simfile_name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A path to the simulation file to be run by the simulator.</p></li>
<li><p><strong>sid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Identifier that generates unique output file names,
thus guaranteeing that different simulation instances do not
overwrite previous out files.</p></li>
<li><p><strong>epochs</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of discrete time steps the simulation lasts.</p></li>
<li><p><strong>cluster_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate cluster group
instances through reflection. See <a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span> <span class="pre">module</span></code></a>.</p></li>
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate network node
instances through reflection. See <a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span> <span class="pre">module</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master._create_network_nodes">
<code class="sig-name descname">_create_network_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">json</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master._create_network_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that instantiates all
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> that are
specified in the simulation file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – The simulation file in JSON dictionary object format.</p></li>
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The type of network node to create.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master._new_cluster_group">
<code class="sig-name descname">_new_cluster_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master._new_cluster_group"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that initializes a new Cluster group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate cluster group
instances through reflection. See <a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span> <span class="pre">module</span></code></a>.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster's</span></code></a>
initial memberhip size.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the fille being stored in the cluster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master._new_network_node">
<code class="sig-name descname">_new_network_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_class</span></em>, <em class="sig-param"><span class="n">nid</span></em>, <em class="sig-param"><span class="n">node_uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master._new_network_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that initializes a new Node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate network node
instances through reflection. See <a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span> <span class="pre">module</span></code></a>.</p></li>
<li><p><strong>nid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An id that will uniquely identifies the
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a>.</p></li>
<li><p><strong>node_uptime</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A float value in string representation that defines the
uptime of the network node.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.NodeType" title="app.type_hints.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master._process_simfile">
<code class="sig-name descname">_process_simfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master._process_simfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Opens and processes the simulation filed referenced in <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p>This method opens the file reads the json data inside it. Combined
with <a class="reference internal" href="app.html#module-app.environment_settings" title="app.environment_settings"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.environment_settings</span></code></a> it sets up the class
instances to be used during the simulation (e.g.,
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span></code></a> and
<a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>). This
method also be splits the file to be persisted in the simulation into
multiple <code class="docutils literal notranslate"><span class="pre">blocks</span></code> or <code class="docutils literal notranslate"><span class="pre">chunks</span></code> and for triggering the initial
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.spread_files" title="app.domain.cluster_groups.Cluster.spread_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">file</span> <span class="pre">spreading</span></code></a> mechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The path to the simulation file. Including extension and
parent folders.</p></li>
<li><p><strong>cluster_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate cluster group
instances through reflection.
See <a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.cluster_groups</span></code></a>.</p></li>
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate network node
instances through reflection.
See <a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.network_nodes</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master._split_files">
<code class="sig-name descname">_split_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">bsize</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master._split_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Helper method that splits the files into multiple blocks to be
persisted in a <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">group</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the file located in
<a class="reference internal" href="app.html#app.environment_settings.SHARED_ROOT" title="app.environment_settings.SHARED_ROOT"><code class="xref py py-const docutils literal notranslate"><span class="pre">SHARED_ROOT</span></code></a> folder to be
read and splitted.</p></li>
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">group</span></code></a> whose
<a class="reference internal" href="#app.domain.cluster_groups.Cluster.members" title="app.domain.cluster_groups.Cluster.members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">members</span></code></a> will be
responsible for ensuring the file specified in <code class="docutils literal notranslate"><span class="pre">fname</span></code>
becomes durable.</p></li>
<li><p><strong>bsize</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The maximum amount of bytes each file block can have.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary in which the keys are integers and values are
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">blocks</span></code></a>, whose
attribute <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData.number" title="app.domain.helpers.smart_dataclasses.FileBlockData.number"><code class="xref py py-attr docutils literal notranslate"><span class="pre">number</span></code></a>
is the key.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master.execute_simulation">
<code class="sig-name descname">execute_simulation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master.execute_simulation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Starts the simulation processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.master_servers.Master.find_online_nodes">
<code class="sig-name descname">find_online_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blacklist</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#Master.find_online_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds <code class="docutils literal notranslate"><span class="pre">n</span></code> <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> who are currently registered at the
<code class="docutils literal notranslate"><span class="pre">Master</span></code> and whose status is online.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blacklist</strong> (<a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a>) – A collection of <a class="reference internal" href="#app.domain.network_nodes.Node.id" title="app.domain.network_nodes.Node.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nodes</span> <span class="pre">identifiers</span></code></a> and their object
instances, which specify nodes the requesting entity has
no interest in.</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – How many <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code></a> references the requesting
entity wants to find.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A collection of <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
which is at most as big as <code class="docutils literal notranslate"><span class="pre">n</span></code>, which does not include any
node named in <code class="docutils literal notranslate"><span class="pre">blacklist</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.NodeDict" title="app.type_hints.NodeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.MAX_EPOCHS">
<code class="sig-name descname">MAX_EPOCHS</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="app.domain.master_servers.Master.MAX_EPOCHS_PLUS_ONE">
<code class="sig-name descname">MAX_EPOCHS_PLUS_ONE</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.master_servers.NewscastMaster">
<em class="property">class </em><code class="sig-name descname">NewscastMaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simfile_name</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">epochs</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#NewscastMaster"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.master_servers.Master" title="app.domain.master_servers.Master"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.master_servers.Master</span></code></a></p>
<dl class="py method">
<dt id="app.domain.master_servers.NewscastMaster._process_simfile">
<code class="sig-name descname">_process_simfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">cluster_class</span></em>, <em class="sig-param"><span class="n">node_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/master_servers.html#NewscastMaster._process_simfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Opens and processes the simulation filed referenced in <cite>path</cite>.</p>
<dl>
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.master_servers.Master._process_simfile" title="app.domain.master_servers.Master._process_simfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.master_servers.Master._process_simfile()</span></code></a>.</p>
<p>Newscast is a gossip-based P2P network. We assume erasure-coding
would be used in this scenario and thus, for simplicity,
we divide the specified file’s size into multiple <code class="docutils literal notranslate"><span class="pre">1/N</span></code>,
where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a> in the system.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class, <a class="reference internal" href="#app.domain.cluster_groups.NewscastCluster" title="app.domain.cluster_groups.NewscastCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">NewscastCluster</span></code></a>
and <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">NewscastNode</span></code></a> were
created to test our simulators performance, concerning the amount
of supported simultaneous network nodes in a simulation. We do
not actually care if the created file blocks are lost as the
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
job in the simulation is to carry out the
protocol defined in <a class="reference external" href="http://peersim.sourceforge.net/doc/index.html">PeerSim’s AverageFunction</a>. <a class="reference external" href="http://peersim.sourceforge.net/">PeerSim</a> uses configuration <code class="docutils literal notranslate"><span class="pre">Example</span> <span class="pre">2</span></code>
provided in release 1.0.5, as a means of testing the simulator
performance, according to this <a class="reference external" href="https://www.gsd.inesc-id.pt/~lveiga/papers/msc-supervised-thesis-abstracts/jneto-FINAL.pdf">Ms.C. dissertation by J. Neto</a>.
This configuration uses Newscast protocol with AverageFunction
and periodic monitoring of the system state. We implement our
version of <a class="reference external" href="https://dl.acm.org/doi/abs/10.1007/978-3-642-03869-3_50">Adaptaive Peer Sampling with Newscast</a> by
N. Tölgyesi and M. Jelasity, to avoid the effort of translating
PeerSim’s code.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The path to the simulation file. Including extension and
parent folders.</p></li>
<li><p><strong>cluster_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate cluster group
instances through reflection.
See <a class="reference internal" href="#module-app.domain.cluster_groups" title="app.domain.cluster_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.cluster_groups</span></code></a>.</p></li>
<li><p><strong>node_class</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the class used to instantiate network node
instances through reflection.
See <a class="reference internal" href="#module-app.domain.network_nodes" title="app.domain.network_nodes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">app.domain.network_nodes</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="app.domain.master_servers._PersistentingDict">
<code class="sig-name descname">_PersistentingDict</code><em class="property">: Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Union<span class="p">[</span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></em></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-app.domain.network_nodes">
<span id="app-domain-network-nodes"></span><h2>app.domain.network_nodes</h2>
<p>This module contains domain specific classes that represent network nodes
responsible for the storage of <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">blocks</span></code></a>. These could be
reliable servers or P2P nodes.</p>
<dl class="py class">
<dt id="app.domain.network_nodes.HDFSNode">
<em class="property">class </em><code class="sig-name descname">HDFSNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HDFSNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node</span></code></a></p>
<p>Represents a data node in the Hadoop Distribute File System.</p>
<dl class="py method">
<dt id="app.domain.network_nodes.HDFSNode.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HDFSNode.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instructs the <code class="docutils literal notranslate"><span class="pre">HDFSNode</span></code> instance to execute the epoch.</p>
<p>The method iterates <code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code> held in disk and attempts to
corrupt them silently. In HDFS file blocks’ <code class="docutils literal notranslate"><span class="pre">sha256</span></code> are only
verified when a user or client accesses the remote replica. Hence,
no replication epoch is set up when a corruption occurs. The
corruption is still logged in the output file.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.execute_epoch" title="app.domain.network_nodes.Node.execute_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.execute_epoch()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that invoked
the <code class="docutils literal notranslate"><span class="pre">Node</span></code> method.</p></li>
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file being simulated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HDFSNode.get_status">
<code class="sig-name descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HDFSNode.get_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used to obtain the status of the <code class="docutils literal notranslate"><span class="pre">HDFSNode</span></code>.</p>
<p>This method equates a ping. When invoked, the <code class="docutils literal notranslate"><span class="pre">HDFSNode</span></code>
decides if it should remain online or change some other state
depending on his remaining <a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">uptime</span></code></a>.</p>
<dl>
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.get_status" title="app.domain.network_nodes.Node.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.get_status()</span></code></a>.</p>
<p>When not ONLINE the node sets itself as Suspect and will only become
offline when the monitor marks him as so (e.g.: due to complaints).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The the status of the <code class="docutils literal notranslate"><span class="pre">HDFSNode</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.Status" title="app.domain.helpers.enums.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">Status</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HDFSNode.replicate_part">
<code class="sig-name descname">replicate_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HDFSNode.replicate_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to restore the replication level of the specified file
block replica.</p>
<p>Replicas are sent selectively in descending order to the
most reliable Nodes in the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> down to the least
reliable.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.replicate_part" title="app.domain.network_nodes.Node.replicate_part"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.replicate_part()</span></code></a>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are no guarantees that
<a class="reference internal" href="app.html#app.environment_settings.REPLICATION_LEVEL" title="app.environment_settings.REPLICATION_LEVEL"><code class="xref py py-const docutils literal notranslate"><span class="pre">REPLICATION_LEVEL</span></code></a> will be
completely restored during the execution of this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that will
deliver the new <code class="docutils literal notranslate"><span class="pre">replica</span></code>.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
to be delivered.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.network_nodes.HiveNode">
<em class="property">class </em><code class="sig-name descname">HiveNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node</span></code></a></p>
<p>Represents a network node that executes a Swarm Guidance algorithm.</p>
<dl class="py attribute">
<dt id="app.domain.network_nodes.HiveNode.clusters">
<code class="sig-name descname">clusters</code></dt>
<dd><p>A collection of <a class="reference internal" href="#app.domain.cluster_groups.HiveCluster" title="app.domain.cluster_groups.HiveCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span></code></a> the <code class="docutils literal notranslate"><span class="pre">HiveNode</span></code> is a
member of.</p>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.HiveNode.routing_table">
<code class="sig-name descname">routing_table</code></dt>
<dd><p>Contains the information required to appropriately route file
block blocks to other HiveNode instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates a <code class="docutils literal notranslate"><span class="pre">Node</span></code> object.</p>
<p>These are network nodes responsible for persisting
<code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An unique identifier for the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
<li><p><strong>uptime</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The availability of the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instructs the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance to execute the epoch.</p>
<p>The method iterates all file block blocks in <code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code> and
independently decides if they should be sent to another <code class="docutils literal notranslate"><span class="pre">HiveNode</span></code>
by following the probabilities in <a class="reference internal" href="#app.domain.network_nodes.HiveNode.routing_table" title="app.domain.network_nodes.HiveNode.routing_table"><code class="xref py py-attr docutils literal notranslate"><span class="pre">routing_table</span></code></a> column
vectors.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.execute_epoch" title="app.domain.network_nodes.Node.execute_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.execute_epoch()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that invoked
the <code class="docutils literal notranslate"><span class="pre">Node</span></code> method.</p></li>
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file being simulated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.remove_file_routing">
<code class="sig-name descname">remove_file_routing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.remove_file_routing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Removes a file name from the <code class="docutils literal notranslate"><span class="pre">HiveNode</span></code> routing table.</p>
<p>This method is called when a <code class="docutils literal notranslate"><span class="pre">HiveNode</span></code> is evicted from the
<a class="reference internal" href="#app.domain.cluster_groups.HiveCluster" title="app.domain.cluster_groups.HiveCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">group</span></code></a> and
results in the deletion from disk of all <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a> with
identifier <code class="docutils literal notranslate"><span class="pre">fid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file whose routing is being eliminated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.replicate_part">
<code class="sig-name descname">replicate_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.replicate_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to restore the replication level of the specified file
block replica.</p>
<p>Similar to <a class="reference internal" href="#app.domain.network_nodes.Node.send_part" title="app.domain.network_nodes.Node.send_part"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_part()</span></code></a> but with
slightly different instructions. In particular new <code class="docutils literal notranslate"><span class="pre">replicas</span></code>
can not be corrupted at the current node, at the current epoch. The
replicas are also sent selectively in descending order to the
most reliable Nodes in the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> down to the least
reliable. Whereas <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_part()</span></code>. follows
stochastic swarm guidance routing.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.replicate_part" title="app.domain.network_nodes.Node.replicate_part"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.replicate_part()</span></code></a>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are no guarantees that
<a class="reference internal" href="app.html#app.environment_settings.REPLICATION_LEVEL" title="app.environment_settings.REPLICATION_LEVEL"><code class="xref py py-const docutils literal notranslate"><span class="pre">REPLICATION_LEVEL</span></code></a> will be
completely restored during the execution of this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that will
deliver the new <code class="docutils literal notranslate"><span class="pre">replica</span></code>.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
to be delivered.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.select_destination">
<code class="sig-name descname">select_destination</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.select_destination"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Selects a random message destination according to <cite>routing_table</cite>
probabilities for the specified file name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
to obtain the proper <a class="reference internal" href="#app.domain.network_nodes.HiveNode.routing_table" title="app.domain.network_nodes.HiveNode.routing_table"><code class="xref py py-attr docutils literal notranslate"><span class="pre">routing_table</span></code></a> for
destination selection.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The name or address of the selected destination.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.HiveNode.set_file_routing">
<code class="sig-name descname">set_file_routing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em>, <em class="sig-param"><span class="n">v_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNode.set_file_routing"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Maps a file name identifier with a transition column vector used
for file block replica routing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file whose routing is being configured.</p></li>
<li><p><strong>v_</strong> (Union[<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>, <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>]) – A column vector with probabilities that dictate the odds of
sending file block blocks belonging to the file with
specified id to other Cluster members also working on the
persistence of the file block blocks.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">transition_vector</span></code> is not a
    <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> and cannot be casted to it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.network_nodes.HiveNodeExt">
<em class="property">class </em><code class="sig-name descname">HiveNodeExt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNodeExt"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.network_nodes.HiveNode</span></code></a></p>
<p>Represents a network node that executes a Swarm Guidance algorithm.</p>
<p><code class="docutils literal notranslate"><span class="pre">HiveNodeExt</span></code> instances differ from <a class="reference internal" href="#app.domain.network_nodes.HiveNode" title="app.domain.network_nodes.HiveNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiveNode</span></code></a> in the sense
that the latter does not monitor the peers belonging to his
<a class="reference internal" href="#app.domain.cluster_groups.HiveClusterExt" title="app.domain.cluster_groups.HiveClusterExt"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span></code></a>,
concerning their connectivity <a class="reference internal" href="#app.domain.network_nodes.Node.status" title="app.domain.network_nodes.Node.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status</span></code></a> or suspicious
behaviours.</p>
<dl class="py method">
<dt id="app.domain.network_nodes.HiveNodeExt.get_status">
<code class="sig-name descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#HiveNodeExt.get_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used to obtain the status of the <code class="docutils literal notranslate"><span class="pre">HiveNodeExt</span></code>.</p>
<p>This method equates a ping. When invoked, the <code class="docutils literal notranslate"><span class="pre">HiveNodeExt</span></code>
decides if it should remain online or change some other state
depending on his remaining <a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">uptime</span></code></a>.</p>
<dl>
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.get_status" title="app.domain.network_nodes.Node.get_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.get_status()</span></code></a>.</p>
<p>When not ONLINE the node sets itself as Suspect and will only become
offline when the monitor marks him as so (e.g.: due to complaints).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The the status of the <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.Status" title="app.domain.helpers.enums.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">Status</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.network_nodes.NewscastNode">
<em class="property">class </em><code class="sig-name descname">NewscastNode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node</span></code></a></p>
<p>Represents a Peer running Newscast protocol, using shuffling
techniques to exchange acquaintances with other network peers and
performing peer degree aggregation using AverageFunction.</p>
<dl class="py attribute">
<dt id="app.domain.network_nodes.NewscastNode.view">
<code class="sig-name descname">view</code></dt>
<dd><p>A partial view of the P2P network. <code class="docutils literal notranslate"><span class="pre">View</span></code> is a collection of
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>,
the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> instance may contact other than himself. Keys
are <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">NewscastNode</span></code></a> instances, and values are their age
in the dictionary. A key-value pair is commonly referenced as a
<code class="docutils literal notranslate"><span class="pre">descriptor</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.NewscastNode.max_view_size">
<code class="sig-name descname">max_view_size</code></dt>
<dd><p>The maximum size the <code class="docutils literal notranslate"><span class="pre">view</span></code> list of the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> can
have at any given time.</p>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.NewscastNode.aggregation_value">
<code class="sig-name descname">aggregation_value</code></dt>
<dd><p>Stores the aggregation value. The type of <code class="docutils literal notranslate"><span class="pre">aggregation_value</span></code>
is defined by the body of the <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.aggregate" title="app.domain.network_nodes.NewscastNode.aggregate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aggregate()</span></code></a> method.</p>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates a <code class="docutils literal notranslate"><span class="pre">Node</span></code> object.</p>
<p>These are network nodes responsible for persisting
<code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An unique identifier for the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
<li><p><strong>uptime</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The availability of the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode._merge">
<code class="sig-name descname">_merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode._merge"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Merges two network views. If a node descriptor exists in both
views, the most recent descriptor is kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>_NetworkView</em>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
and values are their respective age in the view.</p></li>
<li><p><strong>b</strong> (<em>_NetworkView</em>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
and values are their respective age in the view.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The set union of both views with only the most up to date
descriptors.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>_NetworkView</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode._select_view">
<code class="sig-name descname">_select_view</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">view_buffer</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode._select_view"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Reduces the size of the view to a predefined maximum size.</p>
<p>:param A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>:
:param and values are their respective age in the view.:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The <code class="docutils literal notranslate"><span class="pre">view_buffer</span></code> with at most <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.max_view_size" title="app.domain.network_nodes.NewscastNode.max_view_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_view_size</span></code></a> descriptors.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>view_buffer</strong> (<em>_NetworkView</em>) – </p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>_NetworkView</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.add_neighbor">
<code class="sig-name descname">add_neighbor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.add_neighbor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Adds a new network node to the node instance’s view.</p>
<p>If the view is full, the eldest entry is removed. Otherwise,
the new <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">NewscastNode</span></code></a> is added to the instance’s view with
age zero, unless the entry is already there, in which case the view
remains as it was.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">node</span></code> was successfuly added, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>node</strong> (<a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><em>app.domain.network_nodes.NewscastNode</em></a>) – </p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.aggregate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The network node instance contacts another node from his view, then,
both nodes assign the mean of their degrees to
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode.aggregation_value" title="app.domain.network_nodes.NewscastNode.aggregation_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">aggregation_value</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><em>app.domain.network_nodes.NewscastNode</em></a><em>]</em>) – When <code class="docutils literal notranslate"><span class="pre">node</span></code> is None a random <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> is selected
from <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view</span></code></a>. When specified to be contacted is the
one referenced in the parameter.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instructs the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> instance to execute the epoch.</p>
<p>During the execution of the epoch, the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code>
instance randomly selects another <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> who belongs to his
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view</span></code></a> and aggregates their degree using the Average
Function. Sometimes, during the epoch, the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> instance
will also perform shuffling with the selected target.</p>
<dl class="simple">
<dt>Overrides:</dt><dd><p><a class="reference internal" href="#app.domain.network_nodes.Node.execute_epoch" title="app.domain.network_nodes.Node.execute_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.domain.network_nodes.Node.execute_epoch()</span></code></a>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that invoked
the <code class="docutils literal notranslate"><span class="pre">Node</span></code> method.</p></li>
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file being simulated.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.get_degree">
<code class="sig-name descname">get_degree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.get_degree"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Counts the number of descriptors in the node’s view.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The degree of the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> instance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.get_node">
<code class="sig-name descname">get_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.get_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Gets a random node from the current network view.</p>
<p>Each candidate <a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">NewscastNode</span></code></a> to be returned is first pinged,
if no answer is obtained, another node is selected as a candidate by
iterating a list representation of <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view</span></code></a> and the previous
candidate is removed from the <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Newscast should always return a random node, thus iteration
should not be used, but this search is more efficient and readable.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The selected <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode">app.domain.network_nodes.NewscastNode</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.replicate_part">
<code class="sig-name descname">replicate_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.replicate_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to restore the replication level of the specified file
block replica.</p>
<p>Similar to <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_part()</span></code> but with
slightly different instructions. In particular new <code class="docutils literal notranslate"><span class="pre">replicas</span></code>
can not be corrupted at the current node, at the current epoch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are no guarantees that
<a class="reference internal" href="app.html#app.environment_settings.REPLICATION_LEVEL" title="app.environment_settings.REPLICATION_LEVEL"><code class="xref py py-const docutils literal notranslate"><span class="pre">REPLICATION_LEVEL</span></code></a> will be
completely restored during the execution of this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that will
deliver the new <code class="docutils literal notranslate"><span class="pre">replica</span></code>.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
to be delivered.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – When children of <code class="docutils literal notranslate"><span class="pre">Node</span></code> do not implement the abstract method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.shuffle">
<code class="sig-name descname">shuffle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.shuffle"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Starts a shuffle process that merges and crops two nodes’ views at
the current node and at the destination node.</p>
<p>The final view consists of most up to date descriptors from both
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">views</span></code></a> up to a maximum of <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.max_view_size" title="app.domain.network_nodes.NewscastNode.max_view_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_view_size</span></code></a>
descriptors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#app.domain.network_nodes.NewscastNode" title="app.domain.network_nodes.NewscastNode"><em>app.domain.network_nodes.NewscastNode</em></a>) – The node to be contacted for shuffling.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.NewscastNode.shuffle_request">
<code class="sig-name descname">shuffle_request</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">senders_view</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#NewscastNode.shuffle_request"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Merges and crops two nodes’ views at the current node.</p>
<p>The final view consists of most up to date descriptors from both
<a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">views</span></code></a> up to a maximum of <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.max_view_size" title="app.domain.network_nodes.NewscastNode.max_view_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_view_size</span></code></a>
descriptors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>senders_view</strong> (<em>_NetworkView</em>) – A dictionary where keys are <a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code></a>
and values are their respective age in the view.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#app.domain.network_nodes.NewscastNode.view" title="app.domain.network_nodes.NewscastNode.view"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view</span></code></a> and a fresh <code class="docutils literal notranslate"><span class="pre">descriptor</span></code>
from the <code class="docutils literal notranslate"><span class="pre">NewscastNode</span></code> instance, before it is
merged with the requestor’s view.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>_NetworkView</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="app.domain.network_nodes.Node">
<em class="property">class </em><code class="sig-name descname">Node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class contains basic network node functionality that should
always be useful.</p>
<dl class="py attribute">
<dt id="app.domain.network_nodes.Node.id">
<code class="sig-name descname">id</code></dt>
<dd><p>A unique identifier for the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.Node.uptime">
<code class="sig-name descname">uptime</code></dt>
<dd><p>The amount of time the <code class="docutils literal notranslate"><span class="pre">Node</span></code> is expected to remain online
without disconnecting. Current uptime implementation is based on
availability percentages.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Current implementation expects <code class="docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code> joining a
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">group</span></code></a>
to remain online for approximately:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">time_to_live</span></code> =
<a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">uptime</span></code></a>
*
<a class="reference internal" href="#app.domain.master_servers.Master.MAX_EPOCHS" title="app.domain.master_servers.Master.MAX_EPOCHS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MAX_EPOCHS</span></code></a>.</p>
</div></blockquote>
<p>However, a <code class="docutils literal notranslate"><span class="pre">network</span> <span class="pre">node</span></code> who belongs to multiple
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">cluster</span> <span class="pre">groups</span></code></a>
may disconnect earlier than that, i.e.,
<code class="docutils literal notranslate"><span class="pre">network</span> <span class="pre">nodes</span></code> remain online <code class="docutils literal notranslate"><span class="pre">time_to_live</span></code> after
their first operation on the distributed backup system.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.Node.status">
<code class="sig-name descname">status</code></dt>
<dd><p>Indicates if the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance is online or offline. In later
releases this could also contain a ‘suspect’ status.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.Status" title="app.domain.helpers.enums.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">app.domain.helpers.enums.Status</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.Node.suspicious_replies">
<code class="sig-name descname">suspicious_replies</code></dt>
<dd><p>Collection that contains
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">http</span> <span class="pre">codes</span></code></a>
that when received, trigger complaints to monitors about the
replier.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#set" title="(in Python v3.7)"><code class="docutils literal notranslate"><span class="pre">set</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="app.domain.network_nodes.Node.files">
<code class="sig-name descname">files</code></dt>
<dd><p>A dictionary mapping file names to dictionaries of file block
identifiers and their respective contents, i.e.,
the <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a>
hosted at the <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uid</span></em>, <em class="sig-param"><span class="n">uptime</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instantiates a <code class="docutils literal notranslate"><span class="pre">Node</span></code> object.</p>
<p>These are network nodes responsible for persisting
<code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – An unique identifier for the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
<li><p><strong>uptime</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The availability of the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.discard_part">
<code class="sig-name descname">discard_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em>, <em class="sig-param"><span class="n">number</span></em>, <em class="sig-param"><span class="n">corrupt</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cluster</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.discard_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Safely deletes a part from the HiveNode instance’s disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the file the file block replica belongs to.</p></li>
<li><p><strong>number</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The part number that uniquely identifies the file block.</p></li>
<li><p><strong>corrupt</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If discard is being invoked due to identified file
block corruption, e.g., Sha256 does not match the expected.</p></li>
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – <a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that
will <a class="reference internal" href="#app.domain.cluster_groups.Cluster.set_replication_epoch" title="app.domain.cluster_groups.Cluster.set_replication_epoch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set</span> <span class="pre">the</span> <span class="pre">replication</span> <span class="pre">epoch</span></code></a>
or mark the simulation as failed.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.execute_epoch">
<code class="sig-name descname">execute_epoch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.execute_epoch"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Instructs the <code class="docutils literal notranslate"><span class="pre">Node</span></code> instance to execute the epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that invoked
the <code class="docutils literal notranslate"><span class="pre">Node</span></code> method.</p></li>
<li><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a>
of the file being simulated.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – When children of <code class="docutils literal notranslate"><span class="pre">Node</span></code> do not implement the abstract method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.get_file_parts">
<code class="sig-name descname">get_file_parts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.get_file_parts"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Gets collection of file parts that correspond to the named file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a> that
designates the <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a>
to be retrieved.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where keys are <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData.number" title="app.domain.helpers.smart_dataclasses.FileBlockData.number"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">numbers</span></code></a> and
values are <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.html#app.type_hints.ReplicasDict" title="app.type_hints.ReplicasDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReplicasDict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.get_file_parts_count">
<code class="sig-name descname">get_file_parts_count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.get_file_parts_count"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Counts the number of file block replicas of a specific file owned
by the <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fid</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileData.name" title="app.domain.helpers.smart_dataclasses.FileData.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file</span> <span class="pre">name</span> <span class="pre">identifier</span></code></a> that
designates the <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replicas</span></code></a>
to be counted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of counted replicas.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.get_status">
<code class="sig-name descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.get_status"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Used to obtain the status of the <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
<p>This method equates a ping. When invoked, the <code class="docutils literal notranslate"><span class="pre">Node</span></code> decides if it
should remain online or change some other state depending on his
remaining <a class="reference internal" href="#app.domain.network_nodes.Node.uptime" title="app.domain.network_nodes.Node.uptime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">uptime</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The the status of the <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.Status" title="app.domain.helpers.enums.Status"><code class="xref py py-class docutils literal notranslate"><span class="pre">Status</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.is_up">
<code class="sig-name descname">is_up</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.is_up"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the node is online, else <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.receive_part">
<code class="sig-name descname">receive_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.receive_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Endpoint for file block replica reception.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Node</span></code> stores a new <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a> in
<a class="reference internal" href="#app.domain.network_nodes.Node.files" title="app.domain.network_nodes.Node.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code></a> if he does not have a replica with same
<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData.id" title="app.domain.helpers.smart_dataclasses.FileBlockData.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">identifier</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><em>domain.helpers.smart_dataclasses.FileBlockData</em></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a> to be
received by <code class="docutils literal notranslate"><span class="pre">Node</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If upon integrity verification the <code class="docutils literal notranslate"><span class="pre">sha256</span></code>
hashvalue differs from the expected, the worker replies with
a BAD_REQUEST. If the <code class="docutils literal notranslate"><span class="pre">Node</span></code> already owns a replica with the
same <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData.id" title="app.domain.helpers.smart_dataclasses.FileBlockData.id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">identifier</span></code></a> it
replies with NOT_ACCEPTABLE. Otherwise it replies with a OK,
i.e., the delivery is successful.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpCodes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.replicate_part">
<code class="sig-name descname">replicate_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.replicate_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to restore the replication level of the specified file
block replica.</p>
<p>Similar to <a class="reference internal" href="#app.domain.network_nodes.Node.send_part" title="app.domain.network_nodes.Node.send_part"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_part()</span></code></a> but with
slightly different instructions. In particular new <code class="docutils literal notranslate"><span class="pre">replicas</span></code>
can not be corrupted at the current node, at the current epoch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are no guarantees that
<a class="reference internal" href="app.html#app.environment_settings.REPLICATION_LEVEL" title="app.environment_settings.REPLICATION_LEVEL"><code class="xref py py-const docutils literal notranslate"><span class="pre">REPLICATION_LEVEL</span></code></a> will be
completely restored during the execution of this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that will
deliver the new <code class="docutils literal notranslate"><span class="pre">replica</span></code>.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The <a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">file</span> <span class="pre">block</span> <span class="pre">replica</span></code></a>
to be delivered.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – When children of <code class="docutils literal notranslate"><span class="pre">Node</span></code> do not implement the abstract method.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="app.domain.network_nodes.Node.send_part">
<code class="sig-name descname">send_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em>, <em class="sig-param"><span class="n">destination</span></em>, <em class="sig-param"><span class="n">replica</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/app/domain/network_nodes.html#Node.send_part"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Attempts to send a replica to some other network node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<a class="reference internal" href="app.html#app.type_hints.ClusterType" title="app.type_hints.ClusterType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterType</span></code></a>) – A reference to the
<a class="reference internal" href="#app.domain.cluster_groups.Cluster" title="app.domain.cluster_groups.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a> that will
deliver the new <code class="docutils literal notranslate"><span class="pre">replica</span></code>. In a real
world implementation this argument would not make sense,
but we use it to facilitate simulation management and
environment logging.</p></li>
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name, address or another unique identifier of the node
that will receive the file block <cite>replica</cite>.</p></li>
<li><p><strong>replica</strong> (<a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.smart_dataclasses.FileBlockData" title="app.domain.helpers.smart_dataclasses.FileBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileBlockData</span></code></a>) – The file block container to be sent to some other worker.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An http code.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="app.domain.helpers.html#app.domain.helpers.enums.HttpCodes" title="app.domain.helpers.enums.HttpCodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpCodes</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="app.domain.network_nodes._NetworkView">
<code class="sig-name descname">_NetworkView</code><em class="property">: Dict<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference internal" href="#app.domain.network_nodes.Node" title="app.domain.network_nodes.Node">app.domain.network_nodes.Node</a><span class="p">]</span><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em></dt>
<dd></dd></dl>

</div>
</div>


            </div>

        </section>

        
            <nav class="site-bottom-navigation" role="navigation">
            
                <a href="app.domain.helpers.html" class="btn btn--primary btn--next right"
                    title="app.domain.helpers" accesskey="n">
                    Next
                </a>
            
            
                <a href="app.html" class="btn btn--primary btn--prev"
                    title="App Documentation" accesskey="p">
                    Previous
                </a>
            
            </nav>
        

        
            <div class="source-link">
            
                
            
            </div>
        



    </main>

    <footer class="site-footer">
<div class="container">

    <div role="contentinfo">
        <p>
                &copy; Copyright 2020, Francisco Barros.
        </p>
    </div>
        <p>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
        <a href="https://github.com/testthedocs/sphinx_ttd_theme">theme</a>
        provided by <a href="https://testthedocs">TestTheDocs</a>. 

</div>
</footer>

    

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'1.6.0rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/theme-min.js"></script> 
</body>
</html>